os:
- linux
dist: xenial
language: python
python:
- 3.6
before_install:
- python --version
- pip install -U pip
- pip install -U pytest pytest-cov
- pip install codecov
script:
- python -m pytest -v
after_success:
- pytest --cov=./
- codecov
deploy:
  provider: elasticbeanstalk
  wait_until_deployed: true
  access_key_id: "$AWS_ACCESS_KEY_ID"
  secret_access_key: "$AWS_ACCESS_KEY_SECRET"
  region: "$AWS_REGION"
  app: "$AWS_EB_APPLICATION"
  env: "$AWS_EB_ENVIRONMENT"
  bucket_name: "$AWS_EB_S3_BUCKET"
  on:
    branch: main
# env:
#   global:
#   - secure: WMLPFGPzjKw8zQZVYhEvUGTRjZx5+zOkbK7hXJTrRG21yLxu4hoCWxODKvp7CEXY/LwDMdVYsD5HsCl7l098eXyMwGBUd8ZS1Eutj8grd6TW2IPLcu5dWfxsqCg+BjdLs1QZzpmWonvI53ui6Od6GS3KQl0XLOAGTePIj3FG7ngJwB0FVSgLMguR7XhemdkQH+Wxr3U3Oz33KQBAc1Z4z+b3r0jsK4NgguxOyr0Q3ZYcuKjqJGXLEab63qTzQEko3PMq7GMS8jZNbApLHiIHWfc4FVAj+h1l8xlmpLGiYIRzkfCME45+mv+BbpgPv5bboOt0XFEtuqB3Lwmqj/JN6s2pn5892C48RTwqI17CYe503e3M1g9cjCBoRGqbq2Y/x1lMGeKeOGQbdMqWoq5Nz32JdtHP5uKAEDcHHSY+4td9IMQw4NvRjKAO+LSGayKklkn9eVW7GlXiPjl1Lu270OqJJbzfrqHYtLh+4P3R1Otkyd3hSVERJzHRf6XfKfdZCkeYe1NzSgymSI2NV031lgtucMEgF+k5w/b+HR/P5gU+CMJyzGp6IeNN8e+3ZexOd3UBgJhv7uB8gvKeQhfjl+lQQw+1Tk+x3rsoFKWlAM6dJNkVIoJwfmERXb/sc3cpKCQIVmprm+NltdZMh04PRC8/jf80FtiFwriaAUJz9HQ=
#   - secure: HjwikHVbe2q5gToAeDIb6CwMGNyFhUox/AOZtS+s0PBvGQVeLittyH3dqR2SA2sOBHgStElnGkGBvVNZKC2J9Hv1SWGL9CONp+V3eJv3kTsZN5JieO82a3rpdLG2ZcsfEq2UDAskPr65IB+0ieo5nXoZwWg6FtrouqEOEqPHrnKxYQqn9Gkxn7tmH52uvSaKEyfcawg18+i5qs/w5ISfLB0IbuxPC5QmpPkp9W7hku82O1N0Z1OSlNSF/JbwSxOxLUHkCJg3W6p3T2I3HgJIZKiiH8jKGHka+6bGc9wAd5Pdxg9dMURmHUlwkZ4cr3erkJMQq1W++yj4/SdvcZB8dfr9ApydlbY1J2uKJR9bh3dJlOnezJB+Sc6biyL5cAgi9XNVMAUqyM1o8wZZE6+/+I72nFtRs3AtZq1QLY8I/8tUr5wnTINlRxcaShcXQNm3RczhPvfZuZaqwJk/ZsUVLxCzNJ/eboFtcJxIfNEwgh2dWt1iC5nsO3b8vQP3d6754x/G7L3WIk8aPI46Jugekd6O6WMx6r3jeafIT69UL2RwoYmGOZ5uExm5ZXa3m5yiaolm1M2HHZdCbprg9R6C7FrakPTxVZsDViQlvqH2Vm0nCRymMoFGxgHKUueV4MES7oJ8JUWN/K7u5KykYhGp8thoz5qPNlvAkyTqWkSWE3U=
#   - secure: LSC+o0CPHeuQClc/tm0WnF750KVH7DUGnEqqq2A+bgGF51KsRSl1w9TMMubduEn5NSkg9X2R14rjn0K+mwMAK3HrcnyZ5oQYMTf6M+zkKPXHSHLF5A4sNeJRDy8c5/6WEc9mkt6RCo7yet+h5KEcPlAbD/t/NhZcUkXWc1n1BO8MW0LsVPs4Kp4lJBmdZHHpBfU9XLst9DnBZFPta7X0erU/pR89TLNezJ+fFxWf7nKMhb7IEgY2xp0et0rWuBIIzBfTaYfMNumR6J5FIMppCbKWjO5D2c0SiKN5AarrOOPGcEma6etUzRlLdJv3jDgj3DKf8QL7g0OQjjrrFOr5UtFPsEenQo4/E3e3ar8iHBI/OZ/UL+5M3BlENbKyU7MzFiX0hh2/EJf5RAfCxpL/JsGZ3s89/JJifU0kUlsYZbOwAfz/U96icSeOM1yB8j1v+bFHFs8b26zMJBy0WX2OkULSsmumVDuQUYfjziiQtJc/JihUbsmV/0hbTuOmt99lPdMOO+aWAkZwHciuVrwcN5z0Fo2gWmbJUqr8nxiN59otKXhb/U2KDP4ltCX+5YG9ztXCaEvfB3caCXiwUWpZbknd9eOThuqwVa3H2kKqf2HH5+tJ0hczy6iw61Pgzx/mjmnIHpfx7MPa/rhBvuC0708ce2kz/qCt/OJS6SF7CFE=
#   - secure: dQ9U+nDDaq6UFWwbWI3Ow5Eyrdjpllj+657VfhEj5hCY/T0sBKkkboP/AgnB0HrRwlnd19r7azmsFwOEYfMBQZCiKyoyxjtZuQK5/64XfQ8T3Jz4hE0j8ZTtmTrN1O4SLjRKBJ+yAP3XRTZfVRZPu1GzoFTBuuosqQTV+BNr0FrQ7GdrrHbX/m5WPyyunttp3V28i1+FHEqLmz2LrIbPNZjaE3ESp3oBYR0HBOcP+I0KONqjCGDrALVXnhTfa0D5qpblxCR9SO8Jwu3IGR7cHAnRiXXT5y5p0uhUSoCVp16JPnn7qkERfc5U2dvbznCGkALxk+voavVZrt5VwQQgiC29Hi3UvDrPnm6WL7Gn6vafNV+oyuuderzv46QgqHARUaiRi+P+dqRcoEMcgfWNn/FLlIlv8j9bONs1970nDK3I0g1L+UFx+agUtmSHzJacKYZwuqrLRANLsxbzHfWAeAynBRbmPI6r6krwiv1IUMEBD/4wZ723vr8zouN5RNU/cwvfSZlmCv6Ivn3IClDUoxFxUKdeR/pKhPln6eYcJ53wTEHPKpmijS3mx972ivBuELTV6g61eBtmgQf++ic7DZCfee2Efqq63dqDTF24UKGWI3+uIP5jMoTbLOEMmIW/La83m3T/AYTIGt+Fn5LFdnh7sPusFc8/tY/qHJRgZMk=
#   - secure: f6xmL4iCa6LahzOSdcnLXR8h4JtPrf8+nkawc1l0o04LM1z/DcvnSiI0pqaWlutW4+PTqw+jDl2rY2W/RkzLOI+iZwwvD2SaeYRb67mZlbkNrjMgqXBSZWiGafnGYAa26Q2czQhjzESHt+Osgjt0vewZHG52ILgrM0zR4EwVA/NVTNFByxOW7VLu4S1AMI/h2Slbi+PDIapr/wgwne5fhVwc9NTmmp9aG1wn10xaYVm5vaOvaMc4rHo9/MBbYfqFNWOxIOPqZdyXJzcaat/la2ha5eeWSvtCSQCTdYiFW1VroHTxu9IzZf2urqUaING913Tl0tv3K1w/MF9+PeDM7tYvXZVbJ5mcKst0jY/FWwozALvC7/o48S0yPR6742VQ/pUaZjz7kAJ+et9vTUUHh+2A3AaBAVIl6uuOI7k/6gy7sFLxgGrOgAvh7NayOdM/1kukvUljXXB6YAb2A6nlYfUmXoyYKKGlSpYrBwwRFstQhthmiclI92jLtqZDwas7/NFRTIHHb0AqXgJYTl2uuJId3q3WVgfOwIPr3+3IRUMDZTWlNUXMnzlAbXZpNyrUA1Em8/FhaUfp+WRmNBKbmUWt6pYd9VZroacVRlgV9VaaPC0IV0W9sCjKQsvUrYDQ9QJQThauR8v+dHTxeUrHJWD1N0eTPKM7IEFKLUrwW1A=
#   - secure: gTiw7pSSp8kCnnOVlge9Abma+w40kE5gHfkchBDB/HFvEvc4k/AKXShgaw0AdY55Ytvg7S//M90IPJtL8P5ETYRriZPAZn9vO2L7C5atX3sQQJh+nj8j0nsY0luQlV/CJgniYzbx730nXrcKq2n9TBzn82pCPQUAAbf+N44m2xUUCufleqvH4P4rjlO7FJcpj4mfpo2berVdhJ4Tuk+065ETzNT1/iQoSXO7Cjrx+W1FJCTTN/DKo1GqbAFQhNiGhxFlFUf07NhBoEruwhJjetK+tToJcHWDK3GLKH4IA2FzzdMIjllNmSSzpm/2zixleUzi3KLXOi0POniwK6ZnPqvhS7jFB/vCZ9HPV6Tn/7ZAaYqlAj/Waftua+f5gffJfPpHUWAqyUDwdMTB7oFQqcW+wvo3aBIwTthsNBqiudheR0AwNvei3YnQM9POZd03i8gyw3qFTUB/OD7CXxaVx4LBzxLpJnW3NLH75vp2CsTBzOBVWqsnSZbGJ892EgLWxK/wAlqbMz1JEx5uygppfiB6soPZfCtUKJKlm28iOY1llrNOrv6HMMrMHWHmk97nJ4vh/sA+FJVegedf2cuMP80zOCQyx98VcXBX26ye1ksfL73O8bYfmyGuqSPKX6g9ed3Zy5JyTsjpVgBSIq4q3vJp+KQ/UPhtPfSJAjhmlvU=
